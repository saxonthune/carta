# Look and Feel Guidelines

## Visual Hierarchy & Depth System

### Three-Level Depth System

Carta uses a three-level depth system to create visual hierarchy and improve readability in multi-panel layouts. This system creates a sense of depth that guides the user's focus.

#### Depth Levels

**Level 1 - Lightest (Outermost)**
- **Usage**: Left tab bars, outermost navigation panels
- **CSS Variable**: `--color-surface-depth-1`
- **Tailwind Class**: `bg-surface-depth-1`
- **Purpose**: Acts as the entry point for navigation, drawing attention to primary navigation controls

**Level 2 - Medium (Middle)**
- **Usage**: Island containers within sidebars (e.g., construct lists, deployable lists, grouped sections)
- **CSS Variable**: `--color-surface-depth-2`
- **Tailwind Class**: `bg-surface-depth-2`
- **Purpose**: Contains grouped content that sits between navigation and main content, creating clear visual boundaries

**Level 3 - Deepest (Innermost)**
- **Usage**: Main content areas, editor panels, primary work surfaces
- **CSS Variable**: `--color-surface-depth-3`
- **Tailwind Class**: `bg-surface-depth-3`
- **Purpose**: Represents the deepest level where primary work happens, focusing user attention on content

#### Theme-Specific Behavior

**Dark Themes (dark, warm)**
- Level 1 is **lightest**
- Level 2 is **medium**
- Level 3 is **darkest**
- Creates a "looking into a hole" effect - depth increases as you go inward

**Light Themes (light)**
- Level 1 is **slightly lighter than surface**
- Level 2 is **medium gray**
- Level 3 is **white/lightest**
- Creates a "hill" effect - content area is elevated and brightest

### Color Values by Theme

```css
/* Light Theme */
--color-surface-depth-1: #f9fafb;  /* Lightest */
--color-surface-depth-2: #f3f4f6;  /* Medium */
--color-surface-depth-3: #ffffff;  /* Brightest (inverted) */

/* Dark Theme */
--color-surface-depth-1: #1e293b;  /* Lightest */
--color-surface-depth-2: #172033;  /* Medium */
--color-surface-depth-3: #0f172a;  /* Darkest */

/* Warm Theme */
--color-surface-depth-1: #2c2218;  /* Lightest */
--color-surface-depth-2: #221814;  /* Medium */
--color-surface-depth-3: #1c1410;  /* Darkest */
```

## Island Design Pattern

### Concept

"Islands" are self-contained UI components with rounded corners and distinct backgrounds that float within larger containers. They create clear visual groupings and improve scannability.

### Implementation

**Structure**:
- Rounded corners: `rounded-xl`
- Background: `bg-surface-depth-2` (typically)
- Padding: Responsive (`p-2` for fullscreen, `p-1.5` for dock)
- No borders (removed white borders in favor of depth-based separation)

**Examples**:
- Construct lists (Built-in section, Custom section)
- Deployables list
- Tab containers in dock

### Selection Highlighting

Selected items within islands use a prominent accent highlight:

```tsx
className={`... ${
  isSelected 
    ? 'bg-accent/30 text-accent ring-2 ring-accent/60 shadow-sm shadow-accent/20' 
    : 'text-content bg-transparent hover:bg-surface-depth-3/50'
}`}
```

**Key Features**:
- **Background**: `bg-accent/30` - Translucent accent color
- **Text**: `text-accent` - Full accent color for text
- **Ring**: `ring-2 ring-accent/60` - 2px ring with 60% opacity
- **Shadow**: `shadow-sm shadow-accent/20` - Subtle glow effect
- **Hover**: `hover:bg-surface-depth-3/50` - Subtle depth-3 background on hover for unselected items

## Layout Structure

### Typical Three-Column Layout

```
┌─────────────────────────────────────────────┐
│  Header (surface-elevated)                  │
├──────┬──────────────────┬───────────────────┤
│ Tabs │  Sidebar         │  Main Content     │
│ (L1) │  with Islands    │  (L3)             │
│      │  (L1 bg)         │                   │
│      │  ┌────────────┐  │                   │
│      │  │ Island (L2)│  │                   │
│      │  │  - Item 1  │  │                   │
│      │  │  - Item 2  │  │                   │
│      │  └────────────┘  │                   │
│      │  ┌────────────┐  │                   │
│      │  │ Island (L2)│  │                   │
│      │  │  - Item 3  │  │                   │
│      │  └────────────┘  │                   │
└──────┴──────────────────┴───────────────────┘
```

### Component Examples

**Dock.tsx**:
- Level 1: Tab bar container (`bg-surface-depth-1`)
- Level 2: Tab island (`bg-surface-depth-2`)
- Level 3: Content area (`bg-surface-depth-3`)

**ConstructEditor.tsx**:
- Level 1: Left sidebar (`bg-surface-depth-1`)
- Level 2: Built-in/Custom islands (`bg-surface-depth-2`)
- Level 3: Main editor area (`bg-surface-depth-3`)

**DeployablesEditor.tsx**:
- Level 1: Left sidebar (`bg-surface-depth-1`)
- Level 2: Deployables island (`bg-surface-depth-2`)
- Level 3: Edit form area (`bg-surface-depth-3`)

## Design Principles

### Clarity Over Decoration
- Use depth and spacing to create hierarchy, not heavy borders
- Let backgrounds do the work of visual separation

### Consistency
- Always use the three-level depth system for multi-panel layouts
- Apply island pattern consistently for grouped content
- Use the same selection highlight pattern throughout the app

### Responsiveness
- Adjust padding and spacing based on fullscreen vs. dock mode
- Maintain visual hierarchy regardless of size

### Accessibility
- Ensure sufficient contrast between depth levels (test with color contrast tools)
- Selection highlighting must be clearly visible in all themes
- Hover states should provide clear feedback

## Implementation Checklist

When creating a new multi-panel component:

- [ ] Use `bg-surface-depth-1` for the outermost navigation/tab container
- [ ] Use `bg-surface-depth-2` for island containers with `rounded-xl`
- [ ] Use `bg-surface-depth-3` for the main content area
- [ ] Remove borders in favor of depth-based separation
- [ ] Apply standard selection highlighting to interactive items
- [ ] Test in all themes (light, dark, warm) to ensure proper contrast
- [ ] Verify hover states provide clear feedback
- [ ] Ensure responsive sizing for fullscreen vs. dock modes
